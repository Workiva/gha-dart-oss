name: ðŸ§ª checks

on:
  push:
    branches:
      - master
  pull_request:
    paths:
      - __tests__/fixtures/checks/**
      - .github/workflows/checks.yaml
      - .github/workflows/_test:checks.yaml

jobs:
  checks-with-dart-dev:
    uses: ./.github/workflows/checks.yaml
    with:
      package-path: __tests__/fixtures/checks/with_dart_dev

  checks-without-dart-dev:
    uses: ./.github/workflows/checks.yaml
    with:
      package-path: __tests__/fixtures/checks/without_dart_dev

  checks-with-additional:
    uses: ./.github/workflows/checks.yaml
    with:
      package-path: __tests__/fixtures/checks/with_dart_dev
      additional-checks: |
        echo "all good!"
        dart format
